{"version":3,"sources":["DateTool.js"],"names":["outModule","local","SPRING","SUMMER","AUTUMN","WINTER","getIsLeapYear","year","getNewDate","month","day","hour","minute","addMinute","date","Date","totalMilliseconds","getTime","newDate","getFullYear","getMonth","getDate","getHours","getMinutes","getTimeStrWithEra","g_LanguageTool","getLanguageStr","getSeason","module","exports"],"mappings":";;;;;;AAAA,IAAIA,YAAY,EAAhB;AACA,IAAIC,QAAQ,EAAZ;;AAEAD,UAAUE,MAAV,GAAmB,CAAnB;AACAF,UAAUG,MAAV,GAAmB,CAAnB;AACAH,UAAUI,MAAV,GAAmB,CAAnB;AACAJ,UAAUK,MAAV,GAAmB,CAAnB;;AAEA;;;AAGAL,UAAUM,aAAV,GAA0B,UAACC,IAAD,EAAU;AAChC,WAAQA,OAAO,CAAP,KAAa,CAAb,IAAkBA,OAAO,GAAP,KAAe,CAAlC,IAAyCA,OAAO,GAAP,KAAe,CAAf,IAAoBA,OAAO,GAAP,KAAe,CAAnF;AACH,CAFD;;AAIA;;;;;;;;;AASAP,UAAUQ,UAAV,GAAuB,UAACD,IAAD,EAAOE,KAAP,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,MAAzB,EAAiCC,SAAjC,EAA+C;AAClEN,WAAOA,OAAO,IAAd;AACA,QAAIO,OAAO,IAAIC,IAAJ,CAASR,IAAT,EAAeE,QAAQ,CAAvB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqCC,MAArC,EAA6C,CAA7C,EAAgD,CAAhD,CAAX;AACA,QAAII,oBAAoBF,KAAKG,OAAL,KAAiBJ,YAAY,EAAZ,GAAiB,IAA1D;AACA,QAAIK,UAAU,IAAIH,IAAJ,CAASC,iBAAT,CAAd;AACA,WAAO;AACHT,cAAMW,QAAQC,WAAR,KAAwB,IAD3B;AAEHV,eAAOS,QAAQE,QAAR,KAAqB,CAFzB;AAGHV,aAAKQ,QAAQG,OAAR,EAHF;AAIHV,cAAMO,QAAQI,QAAR,EAJH;AAKHV,gBAAQM,QAAQK,UAAR;AALL,KAAP;AAOH,CAZD;;AAcAvB,UAAUwB,iBAAV,GAA8B,UAACjB,IAAD,EAAOE,KAAP,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,MAAzB,EAAoC;AAC9D,gBAAUa,eAAeC,cAAf,CAA8B,UAA9B,CAAV,GAAsDnB,IAAtD,UAA8DE,QAAQ,EAAR,GAAa,GAAb,GAAmB,EAAjF,IAAsFA,KAAtF,UAA+FC,MAAM,EAAN,GAAW,GAAX,GAAiB,EAAhH,IAAqHA,GAArH,UAA4HC,OAAO,EAAP,GAAY,GAAZ,GAAkB,EAA9I,IAAmJA,IAAnJ,UAA2JC,SAAS,EAAT,GAAc,GAAd,GAAoB,EAA/K,IAAoLA,MAApL;AACH,CAFD;;AAIA;;;;AAIAZ,UAAU2B,SAAV,GAAsB,UAAClB,KAAD,EAAW;AAC7B,QAAIA,SAAS,CAAT,IAAcA,SAAS,CAA3B,EAA8B;AAC1B,eAAOT,UAAUE,MAAjB;AACH,KAFD,MAEO,IAAIO,SAAS,CAAT,IAAcA,SAAS,CAA3B,EAA8B;AACjC,eAAOT,UAAUG,MAAjB;AACH,KAFM,MAEA,IAAIM,SAAS,CAAT,IAAcA,SAAS,EAA3B,EAA+B;AAClC,eAAOT,UAAUI,MAAjB;AACH;AACD,WAAOJ,UAAUK,MAAjB;AACH,CATD;;AAWAuB,OAAOC,OAAP,GAAiB7B,SAAjB","file":"DateTool.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Tool\\Date","sourcesContent":["var outModule = {};\r\nvar local = {};\r\n\r\noutModule.SPRING = 1;\r\noutModule.SUMMER = 2;\r\noutModule.AUTUMN = 3;\r\noutModule.WINTER = 4;\r\n\r\n/**\r\n * @param year 判断一个年份是否是瑞年\r\n */\r\noutModule.getIsLeapYear = (year) => {\r\n    return (year % 4 === 0 && year % 100 !== 0) || (year % 100 === 0 && year % 400 === 0);\r\n};\r\n\r\n/**\r\n * @param year \r\n * @param month \r\n * @param day \r\n * @param hour \r\n * @param minute \r\n * @param addMinute 增加的分钟数，游戏的时间流逝以分钟数为准\r\n * 时间是按1970年开始结算的，这边的year需要处理一下\r\n */\r\noutModule.getNewDate = (year, month, day, hour, minute, addMinute) => {\r\n    year = year + 1970;\r\n    let date = new Date(year, month - 1, day, hour, minute, 0, 0);\r\n    let totalMilliseconds = date.getTime() + addMinute * 60 * 1000;\r\n    let newDate = new Date(totalMilliseconds);\r\n    return {\r\n        year: newDate.getFullYear() - 1970,\r\n        month: newDate.getMonth() + 1,\r\n        day: newDate.getDate(),\r\n        hour: newDate.getHours(),\r\n        minute: newDate.getMinutes()\r\n    }\r\n};\r\n\r\noutModule.getTimeStrWithEra = (year, month, day, hour, minute) => {\r\n    return `${g_LanguageTool.getLanguageStr(\"era_name\")}${year} ${month < 10 ? '0' : ''}${month}-${day < 10 ? '0' : ''}${day} ${hour < 10 ? '0' : ''}${hour}:${minute < 10 ? '0' : ''}${minute}`;\r\n};\r\n\r\n/**\r\n * 返回季节\r\n * @param month 月份数\r\n */\r\noutModule.getSeason = (month) => {\r\n    if (month >= 2 && month <= 4) {\r\n        return outModule.SPRING;\r\n    } else if (month >= 5 && month <= 7) {\r\n        return outModule.SUMMER;\r\n    } else if (month >= 8 && month <= 10) {\r\n        return outModule.AUTUMN;\r\n    }\r\n    return outModule.WINTER;\r\n};\r\n\r\nmodule.exports = outModule;"]}