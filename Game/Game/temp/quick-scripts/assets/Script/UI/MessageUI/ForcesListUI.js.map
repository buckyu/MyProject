{"version":3,"sources":["ForcesListUI.js"],"names":["BaseUI","require","ScrollViewTool","cc","Class","extends","properties","_uiName","_forceListNodePool","_forceListNScrollViewNode","_forceListNScrollViewTmpNode","onLoad","_super","onButtonClick","name","node","component","hide","_force_id","g_GameData","setData","g_GameSceneManager","addNode","g_GAME_SCENE_UI_NODE","undefined","onUIInit","NodePool","find","onShow","gameData","g_GameGlobalManager","forceDataArr","_allForceArr","buildScrollView","SCROLL_TYPE_VERTICAL","childNode","data","getComponent","Label","string","_name","getChildByName","_id","bind","buttonTravelRegister","deleteFlag","onDestroy"],"mappings":";;;;;;AAAA;AACA;;;;AAIA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,iBAAiBD,QAAQ,gBAAR,CAArB;AACAE,GAAGC,KAAH,CAAS;AACLC,aAASL,MADJ;;AAGLM,gBAAY;AACRC,iBAAS,aADD;AAERC,4BAAoB,IAFZ;AAGRC,mCAA2B,IAHnB;AAIRC,sCAA8B;AAJtB,KAHP;;AAULC,UAVK,oBAUI;AACL,aAAKC,MAAL;AACH,KAZI;;;AAcL;;;AAGAC,mBAAe,uBAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,SAAtB,EAAiC;AAC5C,gBAAQF,IAAR;AACI,iBAAK,MAAL;AACI,qBAAKG,IAAL,CAAU,KAAV;AACA;AACJ,iBAAK,QAAL;AACI,oBAAIF,KAAKG,SAAT,EAAoB;AAChBC,+BAAWC,OAAX,CAAmB,eAAnB,EAAoCL,KAAKG,SAAzC;AACAG,uCAAmBC,OAAnB,CAA2B,uBAA3B,EAAoDC,oBAApD,EAA0E,YAA1E,EACI,KADJ,EACWC,SADX,EACsBA,SADtB,EACiC,GADjC;AAEH;AACD;AAVR;AAYH,KA9BI;;AAgCL;;;;AAIAC,cAAU,oBAAY;AAClB,aAAKb,MAAL;AACA,aAAKJ,kBAAL,GAA0B,IAAIL,GAAGuB,QAAP,EAA1B;AACA,aAAKjB,yBAAL,GAAiCN,GAAGwB,IAAH,CAAQ,gBAAR,EAA0B,KAAKZ,IAA/B,CAAjC;AACA,aAAKL,4BAAL,GAAoCP,GAAGwB,IAAH,CAAQ,mBAAR,EAA6B,KAAKlB,yBAAlC,CAApC;AACH,KAzCI;;AA2CL;;;;AAIAmB,YAAQ,kBAAY;AAChB,aAAKhB,MAAL;AACA,YAAIiB,WAAWC,oBAAoBD,QAAnC;AACA,YAAIE,eAAeF,SAASG,YAA5B;AACA;AACA9B,uBAAe+B,eAAf,CAA+B,KAAKxB,yBAApC,EAA+DP,eAAegC,oBAA9E,EACI,KAAKxB,4BADT,EACuC,UAAUyB,SAAV,EAAqBC,IAArB,EAA2B;AAC1DjC,eAAGwB,IAAH,CAAQ,kBAAR,EAA4BQ,SAA5B,EAAuCE,YAAvC,CAAoDlC,GAAGmC,KAAvD,EAA8DC,MAA9D,GAAuEH,KAAKI,KAA5E;AACAL,sBAAUM,cAAV,CAAyB,QAAzB,EAAmCvB,SAAnC,GAA+CkB,KAAKM,GAApD;AACH,SAHkC,CAGjCC,IAHiC,CAG5B,IAH4B,CADvC,EAIkBZ,YAJlB,EAIgC,KAAKvB,kBAJrC;AAKA,aAAKoC,oBAAL,CAA0B,KAAK7B,IAA/B;AACH,KA1DI;;AA4DL;;;;AAIAE,UAAM,cAAU4B,UAAV,EAAsB;AACxB,aAAKjC,MAAL,CAAYiC,UAAZ;AACH,KAlEI;;AAoEL;;;;AAIAC,eAAW,qBAAY;AACnB,aAAKlC,MAAL;AACH;AA1EI,CAAT","file":"ForcesListUI.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\MessageUI","sourcesContent":["/*global module, require, cc, client */\r\n/**\r\n * @desc\r\n * @author Administrator\r\n */\r\nvar BaseUI = require('BaseUI');\r\nvar ScrollViewTool = require('ScrollViewTool');\r\ncc.Class({\r\n    extends: BaseUI,\r\n\r\n    properties: {\r\n        _uiName: 'ForceListUI',\r\n        _forceListNodePool: null,\r\n        _forceListNScrollViewNode: null,\r\n        _forceListNScrollViewTmpNode: null\r\n    },\r\n\r\n    onLoad() {\r\n        this._super();\r\n    },\r\n\r\n    /**\r\n     * 实现方法，点击回调\r\n     */\r\n    onButtonClick: function (name, node, component) {\r\n        switch (name) {\r\n            case 'hide':\r\n                this.hide(false);\r\n                return;\r\n            case 'button':\r\n                if (node._force_id) {\r\n                    g_GameData.setData('show_force_id', node._force_id);\r\n                    g_GameSceneManager.addNode('Prefab/Msg/CityListUI', g_GAME_SCENE_UI_NODE, 'CityListUI',\r\n                        false, undefined, undefined, 100);\r\n                }\r\n                break;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * UI界面显示\r\n     * @constructor\r\n     */\r\n    onUIInit: function () {\r\n        this._super();\r\n        this._forceListNodePool = new cc.NodePool();\r\n        this._forceListNScrollViewNode = cc.find('Mid/scrollview', this.node);\r\n        this._forceListNScrollViewTmpNode = cc.find('view/content/item', this._forceListNScrollViewNode);\r\n    },\r\n\r\n    /**\r\n     * UI界面显示\r\n     * @constructor\r\n     */\r\n    onShow: function () {\r\n        this._super();\r\n        let gameData = g_GameGlobalManager.gameData;\r\n        let forceDataArr = gameData._allForceArr;\r\n        //显示list\r\n        ScrollViewTool.buildScrollView(this._forceListNScrollViewNode, ScrollViewTool.SCROLL_TYPE_VERTICAL,\r\n            this._forceListNScrollViewTmpNode, function (childNode, data) {\r\n                cc.find('button/forceName', childNode).getComponent(cc.Label).string = data._name;\r\n                childNode.getChildByName('button')._force_id = data._id;\r\n            }.bind(this), forceDataArr, this._forceListNodePool);\r\n        this.buttonTravelRegister(this.node);\r\n    },\r\n\r\n    /**\r\n     * UI隐藏\r\n     * @constructor\r\n     */\r\n    hide: function (deleteFlag) {\r\n        this._super(deleteFlag);\r\n    },\r\n\r\n    /**\r\n     * UI销毁\r\n     * @constructor\r\n     */\r\n    onDestroy: function () {\r\n        this._super();\r\n    }\r\n});\r\n"]}