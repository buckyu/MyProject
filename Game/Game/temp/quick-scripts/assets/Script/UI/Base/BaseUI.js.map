{"version":3,"sources":["BaseUI.js"],"names":["cc","Class","extends","Component","properties","_leftNode","_topNode","_rightNode","_bottomNode","_midNode","onLoad","_uiName","node","name","getChildByName","onUIInit","onShow","buttonTravelRegister","hide","deleteFlag","active","removeFromParent","destroy","_tj_isDestroy","g_SpriteFrameManager","clearDestroyNode","onDestroy","getComponent","Button","on","buttonClickCb","children","forEach","childNode","bind","buttonTravelUnRegister","off","clickEvent","onButtonClick","currentTarget","component","detail"],"mappings":"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","file":"BaseUI.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\Base","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //UI的名字\r\n        _leftNode: null,\r\n        _topNode: null,\r\n        _rightNode: null,\r\n        _bottomNode: null,\r\n        _midNode: null\r\n    },\r\n\r\n    /**\r\n     * 初始化，先初始化数据，后初始化UI\r\n     */\r\n    onLoad: function () {\r\n        //初始化名字\r\n        if (this._uiName) {\r\n            this.node.name = this._uiName;\r\n        }\r\n        //初始化五个节点\r\n        this._leftNode = this.node.getChildByName('Left');\r\n        this._topNode = this.node.getChildByName('Top');\r\n        this._rightNode = this.node.getChildByName('Right');\r\n        this._bottomNode = this.node.getChildByName('Bottom');\r\n        this._midNode = this.node.getChildByName('Mid');\r\n        //初始化\r\n        this.onUIInit();\r\n        this.onShow();\r\n        this.buttonTravelRegister(this.node);\r\n    },\r\n\r\n    //初始化UI\r\n    onUIInit: function () {\r\n\r\n    },\r\n\r\n    //重新显示的时候会调用这个\r\n    onShow: function () {\r\n\r\n    },\r\n\r\n    /**\r\n     * 隐藏UI\r\n     */\r\n    hide: function (deleteFlag) {\r\n        this.node.active = false;\r\n        if (deleteFlag) {\r\n            this.node.removeFromParent(true);\r\n            this.node.destroy();\r\n            this.node._tj_isDestroy = true;\r\n            g_SpriteFrameManager.clearDestroyNode();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 销毁UI\r\n     */\r\n    onDestroy: function () {\r\n\r\n    },\r\n\r\n    /**\r\n     * 这个函数会注册指定结点下所有的结点\r\n     * 需要避免多次时间注册的情况\r\n     * @param node cc.Node\r\n     */\r\n    buttonTravelRegister: function (node) {\r\n        if (!node) {\r\n            return;\r\n        }\r\n        if (node.getComponent(cc.Button)) {\r\n            //注册事件\r\n            node.on('click', this.buttonClickCb, this);\r\n        }\r\n        //遍历执行\r\n        node.children.forEach(function (childNode) {\r\n            this.buttonTravelRegister(childNode);\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * 这个函数会注册指定结点下所有的结点\r\n     * 需要避免多次时间注册的情况\r\n     * @param node cc.Node\r\n     */\r\n    buttonTravelUnRegister: function (node) {\r\n        if (!node) {\r\n            return;\r\n        }\r\n        if (node.getComponent(cc.Button)) {\r\n            //注册事件\r\n            node.off('click', this.buttonClickCb, this);\r\n        }\r\n        //遍历执行\r\n        node.children.forEach(function (childNode) {\r\n            this.buttonTravelUnRegister(childNode);\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * 按钮点击触发的回调\r\n     * @param clickEvent 点击事件的具体参数\r\n     */\r\n    buttonClickCb: function (clickEvent) {\r\n        if (this.onButtonClick && (typeof this.buttonClickCb) === 'function') {\r\n            //解析参数\r\n            //触发事件的结点\r\n            var node = clickEvent.currentTarget;\r\n            //触发事件的按钮组件\r\n            var component = clickEvent.detail;\r\n            //组件的名字\r\n            var name = node.name;\r\n            this.onButtonClick(name, node, component);\r\n        }\r\n    }\r\n});\r\n"]}