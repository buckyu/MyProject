{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\LoadingUI/assets\\Script\\UI\\LoadingUI\\LoadingUI.js"],"names":["BaseUI","require","Game","cc","Class","extends","properties","_uiName","_labelNode","_loadProgressNode","onLoad","_super","onUIInit","g_GameScene","UINode","node","getChildByName","AlertNode","NetNode","onShow","active","getComponent","ProgressBar","progress","init","num","bind","preLoadGameScene","onButtonClick","name","component","director","loadScene","preloadScene","error","g_LogTool","showLog"],"mappings":";;;;;;AAAA;AACA;;;AAGA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;AACAE,GAAGC,KAAH,CAAS;AACLC,aAASL,MADJ;;AAGLM,gBAAY;AACRC,iBAAS,WADD;AAERC,oBAAY,IAFJ;AAGRC,2BAAmB;AAHX,KAHP;;AASLC,UATK,oBASI;AACL,aAAKC,MAAL;AACH,KAXI;;;AAaL;;;;AAIAC,cAAU,oBAAY;AAClB,aAAKD,MAAL;AACAE,oBAAYC,MAAZ,GAAqB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,QAAzB,CAArB;AACAH,oBAAYI,SAAZ,GAAwB,KAAKF,IAAL,CAAUC,cAAV,CAAyB,WAAzB,CAAxB;AACAH,oBAAYK,OAAZ,GAAsB,KAAKH,IAAL,CAAUC,cAAV,CAAyB,SAAzB,CAAtB;AACH,KAtBI;;AAwBLG,YAAQ,kBAAY;AAChB,aAAKX,UAAL,GAAkB,KAAKO,IAAL,CAAUC,cAAV,CAAyB,OAAzB,CAAlB;AACA,aAAKR,UAAL,CAAgBY,MAAhB,GAAyB,KAAzB;AACA,aAAKX,iBAAL,GAAyB,KAAKM,IAAL,CAAUC,cAAV,CAAyB,aAAzB,CAAzB;AACA,aAAKP,iBAAL,CAAuBY,YAAvB,CAAoClB,GAAGmB,WAAvC,EAAoDC,QAApD,GAA+D,CAA/D;AACA;AACArB,aAAKsB,IAAL,CAAU,UAAUC,GAAV,EAAe;AACrB,iBAAKhB,iBAAL,CAAuBY,YAAvB,CAAoClB,GAAGmB,WAAvC,EAAoDC,QAApD,GAA+DE,GAA/D;AACH,SAFS,CAERC,IAFQ,CAEH,IAFG,CAAV,EAEc,YAAY;AACtB;AACA,iBAAKC,gBAAL;AACH,SAHa,CAGZD,IAHY,CAGP,IAHO,CAFd;AAMH,KApCI;;AAsCLE,mBAAe,uBAAUC,IAAV,EAAgBd,IAAhB,EAAsBe,SAAtB,EAAiC;AAC5C,gBAAQD,IAAR;AACI,iBAAK,OAAL;AACI1B,mBAAG4B,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACA;AAHR;AAKH,KA5CI;;AA8CL;AACAL,sBAAkB,4BAAY;AAC1BxB,WAAG4B,QAAH,CAAYE,YAAZ,CAAyB,WAAzB,EAAsC,UAAUC,KAAV,EAAiB;AACnD;AACA,gBAAIA,KAAJ,EAAW;AACPC,0BAAUC,OAAV,CAAkB,0CAA0CF,KAA5D;AACA;AACH;AACD;AACA,iBAAKzB,iBAAL,CAAuBW,MAAvB,GAAgC,KAAhC;AACA,iBAAKZ,UAAL,CAAgBY,MAAhB,GAAyB,IAAzB;AACH,SATqC,CASpCM,IAToC,CAS/B,IAT+B,CAAtC;AAUH;AA1DI,CAAT","file":"LoadingUI.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\LoadingUI","sourcesContent":["/*global module, require, cc, client */\r\n/**\r\n * 本游戏的主场景，现在只有一个场景\r\n */\r\nvar BaseUI = require(\"BaseUI\");\r\nvar Game = require(\"Game\");\r\ncc.Class({\r\n    extends: BaseUI,\r\n\r\n    properties: {\r\n        _uiName: \"LoadingUI\",\r\n        _labelNode: null,\r\n        _loadProgressNode: null\r\n    },\r\n\r\n    onLoad() {\r\n        this._super();\r\n    },\r\n\r\n    /**\r\n     * UI界面显示\r\n     * @constructor\r\n     */\r\n    onUIInit: function () {\r\n        this._super();\r\n        g_GameScene.UINode = this.node.getChildByName(\"UINode\");\r\n        g_GameScene.AlertNode = this.node.getChildByName(\"AlertNode\");\r\n        g_GameScene.NetNode = this.node.getChildByName(\"NetNode\");\r\n    },\r\n\r\n    onShow: function () {\r\n        this._labelNode = this.node.getChildByName('label');\r\n        this._labelNode.active = false;\r\n        this._loadProgressNode = this.node.getChildByName('progressBar');\r\n        this._loadProgressNode.getComponent(cc.ProgressBar).progress = 0;\r\n        //全局初始化\r\n        Game.init(function (num) {\r\n            this._loadProgressNode.getComponent(cc.ProgressBar).progress = num;\r\n        }.bind(this), function () {\r\n            //this.node.getChildByName('label').active = true;\r\n            this.preLoadGameScene();\r\n        }.bind(this));\r\n    },\r\n\r\n    onButtonClick: function (name, node, component) {\r\n        switch (name) {\r\n            case 'label':\r\n                cc.director.loadScene('GameScene');\r\n                break;\r\n        }\r\n    },\r\n\r\n    //预加载Game场景\r\n    preLoadGameScene: function () {\r\n        cc.director.preloadScene('GameScene', function (error) {\r\n            //onLoaded函数\r\n            if (error) {\r\n                g_LogTool.showLog('preload Game Scene error, error is : ' + error);\r\n                return;\r\n            }\r\n            //显示文本，用户点击就可以切换\r\n            this._loadProgressNode.active = false;\r\n            this._labelNode.active = true;\r\n        }.bind(this));\r\n    }\r\n});\r\n"]}