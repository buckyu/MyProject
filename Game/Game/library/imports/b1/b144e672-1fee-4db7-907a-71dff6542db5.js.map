{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\Tool\\System/assets\\Script\\Tool\\System\\Game.js"],"names":["window","g_GAME_SCENE_UI_NODE","g_GAME_SCENE_ALERT_NODE","g_GAME_SCENE_NET_NODE","g_LanguageType","CHS","EN","g_LanguageTypeSelect","g_LanguageObj","require","g_LanguageTool","g_PrefabManager","g_GameSceneManager","g_ScrollViewTool","g_LogTool","g_SpriteFrameManager","g_JsonDataTool","g_EventManager","g_MemoryManager","g_MAX_MEMORY_NUM","g_AUTO_CLEAR_MEMORY_FLAG","g_USE_STRONG_CLEAR_MODE","g_GameScene","UINode","undefined","AlertNode","NetNode","g_GameGlobalManager","g_GameTool","g_GlobalData","g_BattleManager","g_GameData","outModule","init","oneTaskFinishCb","finishCb","finishNum","TASK_NUM","module","exports"],"mappings":";;;;;;AAAA;AACA;;;;AAIAA,OAAOC,oBAAP,GAA8B,CAA9B;AACAD,OAAOE,uBAAP,GAAiC,CAAjC;AACAF,OAAOG,qBAAP,GAA+B,CAA/B;;AAEAH,OAAOI,cAAP,GAAwB,EAAxB;AACAJ,OAAOI,cAAP,CAAsBC,GAAtB,GAA4B,KAA5B;AACAL,OAAOI,cAAP,CAAsBE,EAAtB,GAA2B,IAA3B;;AAEA;AACAN,OAAOO,oBAAP,GAA8BP,OAAOI,cAAP,CAAsBC,GAApD;AACAL,OAAOQ,aAAP,GAAuBC,sBAAoBT,OAAOO,oBAA3B,CAAvB;;AAEA;AACA;AACAP,OAAOU,cAAP,GAAwBD,QAAQ,cAAR,CAAxB;AACA;AACAT,OAAOW,eAAP,GAAyBF,QAAQ,eAAR,CAAzB;AACA;AACAT,OAAOY,kBAAP,GAA4BH,QAAQ,kBAAR,CAA5B;AACA;AACAT,OAAOa,gBAAP,GAA0BJ,QAAQ,gBAAR,CAA1B;AACA;AACAT,OAAOc,SAAP,GAAmBL,QAAQ,SAAR,CAAnB;AACA;AACAT,OAAOe,oBAAP,GAA8BN,QAAQ,oBAAR,CAA9B;AACA;AACAT,OAAOgB,cAAP,GAAwBP,QAAQ,cAAR,CAAxB;AACA;AACAT,OAAOiB,cAAP,GAAwBR,QAAQ,cAAR,CAAxB;AACA;AACAT,OAAOkB,eAAP,GAAyBT,QAAQ,eAAR,CAAzB;;AAEA;AACA;AACAT,OAAOmB,gBAAP,GAA0B,GAA1B;AACA;AACAnB,OAAOoB,wBAAP,GAAkC,IAAlC;AACA;AACApB,OAAOqB,uBAAP,GAAiC,IAAjC;;AAEA;AACArB,OAAOsB,WAAP,GAAqB,EAArB;AACAtB,OAAOsB,WAAP,CAAmBC,MAAnB,GAA4BC,SAA5B;AACAxB,OAAOsB,WAAP,CAAmBG,SAAnB,GAA+BD,SAA/B;AACAxB,OAAOsB,WAAP,CAAmBI,OAAnB,GAA6BF,SAA7B;;AAEA;AACA;AACA;AACAxB,OAAO2B,mBAAP,GAA6BlB,QAAQ,mBAAR,CAA7B;AACAT,OAAO4B,UAAP,GAAoBnB,QAAQ,UAAR,CAApB;AACAT,OAAO6B,YAAP,GAAsBpB,QAAQ,YAAR,CAAtB;AACAT,OAAO8B,eAAP,GAAyBrB,QAAQ,eAAR,CAAzB;AACAT,OAAO+B,UAAP,GAAoBtB,QAAQ,UAAR,CAApB;;AAEA,IAAIuB,YAAY,EAAhB;;AAEA;;;;;AAKAA,UAAUC,IAAV,GAAiB,UAAUC,eAAV,EAA2BC,QAA3B,EAAqC;AAClD,QAAIC,YAAY,CAAhB;AACA,QAAMC,WAAW,CAAjB;AACArC,WAAOW,eAAP,CAAuBsB,IAAvB,CAA4B,YAAM;AAC9BG;AACA,YAAIA,cAAcC,QAAd,IAA0BF,QAA9B,EAAwC;AACpCA;AACH;AACD,YAAID,eAAJ,EAAqB;AACjBA,4BAAgBE,YAAYC,QAA5B;AACH;AACJ,KARD;AASArC,WAAOe,oBAAP,CAA4BkB,IAA5B,CAAiC,YAAM;AACnCG;AACA,YAAIA,cAAcC,QAAd,IAA0BF,QAA9B,EAAwC;AACpCA;AACH;AACD,YAAID,eAAJ,EAAqB;AACjBA,4BAAgBE,YAAYC,QAA5B;AACH;AACJ,KARD;AASArC,WAAOgB,cAAP,CAAsBiB,IAAtB,CAA2B,YAAM;AAC7BG;AACA,YAAIA,cAAcC,QAAd,IAA0BF,QAA9B,EAAwC;AACpCA;AACH;AACD,YAAID,eAAJ,EAAqB;AACjBA,4BAAgBE,YAAYC,QAA5B;AACH;AACJ,KARD;AASH,CA9BD;;AAgCAC,OAAOC,OAAP,GAAiBP,SAAjB","file":"Game.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\Tool\\System","sourcesContent":["/*global module, require, cc, client */\r\n/**\r\n * @desc 全局模块\r\n * @author Administrator\r\n */\r\nwindow.g_GAME_SCENE_UI_NODE = 1;\r\nwindow.g_GAME_SCENE_ALERT_NODE = 2;\r\nwindow.g_GAME_SCENE_NET_NODE = 3;\r\n\r\nwindow.g_LanguageType = {};\r\nwindow.g_LanguageType.CHS = 'CHS';\r\nwindow.g_LanguageType.EN = 'EN';\r\n\r\n//这边开始判断是哪个语言\r\nwindow.g_LanguageTypeSelect = window.g_LanguageType.CHS;\r\nwindow.g_LanguageObj = require(`Language_${window.g_LanguageTypeSelect}`);\r\n\r\n//基础框架相关\r\n//多语言工具\r\nwindow.g_LanguageTool = require('LanguageTool');\r\n//预制件加载工具\r\nwindow.g_PrefabManager = require('PrefabManager');\r\n//动态场景管理工具\r\nwindow.g_GameSceneManager = require('GameSceneManager');\r\n//滑动列表工具\r\nwindow.g_ScrollViewTool = require('ScrollViewTool');\r\n//日志工具\r\nwindow.g_LogTool = require('LogTool');\r\n//图集管理工具\r\nwindow.g_SpriteFrameManager = require('SpriteFrameManager');\r\n//Json数据管理工具\r\nwindow.g_JsonDataTool = require('JsonDataTool');\r\n//客户端事件工具\r\nwindow.g_EventManager = require('EventManager');\r\n//内存管理工具\r\nwindow.g_MemoryManager = require('MemoryManager');\r\n\r\n//内存管理选项\r\n//内存使用超过600MB开始自动清除内存\r\nwindow.g_MAX_MEMORY_NUM = 600;\r\n//使用开启自动清理内存\r\nwindow.g_AUTO_CLEAR_MEMORY_FLAG = true;\r\n//是否启动强清除模式，这种模式下所有的隐藏的界面都会被清除\r\nwindow.g_USE_STRONG_CLEAR_MODE = true;\r\n\r\n//主场景相关结点缓存\r\nwindow.g_GameScene = {};\r\nwindow.g_GameScene.UINode = undefined;\r\nwindow.g_GameScene.AlertNode = undefined;\r\nwindow.g_GameScene.NetNode = undefined;\r\n\r\n//************************************************************\r\n//游戏相关\r\n//************************************************************\r\nwindow.g_GameGlobalManager = require('GameGlobalManager');\r\nwindow.g_GameTool = require('GameTool');\r\nwindow.g_GlobalData = require('GlobalData');\r\nwindow.g_BattleManager = require('BattleManager');\r\nwindow.g_GameData = require('GameData');\r\n\r\nvar outModule = {};\r\n\r\n/**\r\n * 初始化的时候加载所有需要的数据\r\n * @param {Function} oneTaskFinishCb 完成一个任务的回调\r\n * @param {Function} finishCb 所有数据加载完成的回调\r\n */\r\noutModule.init = function (oneTaskFinishCb, finishCb) {\r\n    let finishNum = 0;\r\n    const TASK_NUM = 3;\r\n    window.g_PrefabManager.init(() => {\r\n        finishNum++;\r\n        if (finishNum === TASK_NUM && finishCb) {\r\n            finishCb();\r\n        }\r\n        if (oneTaskFinishCb) {\r\n            oneTaskFinishCb(finishNum / TASK_NUM);\r\n        }\r\n    });\r\n    window.g_SpriteFrameManager.init(() => {\r\n        finishNum++;\r\n        if (finishNum === TASK_NUM && finishCb) {\r\n            finishCb();\r\n        }\r\n        if (oneTaskFinishCb) {\r\n            oneTaskFinishCb(finishNum / TASK_NUM);\r\n        }\r\n    });\r\n    window.g_JsonDataTool.init(() => {\r\n        finishNum++;\r\n        if (finishNum === TASK_NUM && finishCb) {\r\n            finishCb();\r\n        }\r\n        if (oneTaskFinishCb) {\r\n            oneTaskFinishCb(finishNum / TASK_NUM);\r\n        }\r\n    });\r\n};\r\n\r\nmodule.exports = outModule;"]}